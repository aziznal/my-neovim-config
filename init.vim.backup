call plug#begin('~/.local/share/nvim/site/plugged')


" Gameified Vim Tutorial by the Primeagean
Plug 'ThePrimeagen/vim-be-good'

" File navigator, icons, etc.
Plug 'nvim-lua/plenary.nvim'
Plug 'nvim-telescope/telescope.nvim', { 'tag': '0.1.1' }
Plug 'BurntSushi/ripgrep'
Plug 'sharkdp/fd'
Plug 'nvim-treesitter/nvim-treesitter'
Plug 'nvim-tree/nvim-web-devicons'

" Undo tree
Plug 'mbbill/undotree'

" Github Theme
Plug 'projekt0n/github-nvim-theme', { 'tag': 'v0.0.7' }

" LSP 0
Plug 'neovim/nvim-lspconfig'                           " Required
Plug 'williamboman/mason.nvim', {'do': ':MasonUpdate'} " Optional
Plug 'williamboman/mason-lspconfig.nvim'               " Optional

" Autocompletion
Plug 'hrsh7th/nvim-cmp'     " Required
Plug 'hrsh7th/cmp-nvim-lsp' " Required
Plug 'L3MON4D3/LuaSnip'     " Required

" Prettier (requires nvim-lspconfig)
Plug 'jose-elias-alvarez/null-ls.nvim'
Plug 'MunifTanjim/prettier.nvim'

Plug 'VonHeikemen/lsp-zero.nvim', {'branch': 'v2.x'}

" Better tmux-vim navigation
Plug 'christoomey/vim-tmux-navigator'

Plug 'github/copilot.vim'

" File Tree
Plug 'nvim-tree/nvim-tree.lua'

" Harpoon for quick file navigation
Plug 'ThePrimeagen/harpoon'

" Comments
Plug 'numToStr/Comment.nvim'

call plug#end()

set relativenumber

nnoremap <leader>ff <cmd>Telescope find_files<cr>
nnoremap <leader>fg <cmd>Telescope live_grep<cr>
nnoremap <leader>fb <cmd>Telescope buffers<cr>
nnoremap <leader>fh <cmd>Telescope help_tags<cr>

" Shortcut for centering screen when navigating up or down
nnoremap <C-d> <C-d>zz

" Setting up LSP 0
lua <<EOF
local lsp = require('lsp-zero').preset({})

lsp.on_attach(function(client, bufnr)
  lsp.default_keymaps({buffer = bufnr})
end)

-- (Optional) Configure lua language server for neovim
require('lspconfig').lua_ls.setup(lsp.nvim_lua_ls())

lsp.setup()
EOF

colorscheme github_dark

lua <<EOF
	vim.opt.guicursor = ""

	vim.opt.nu = true
	vim.opt.relativenumber = true

	vim.opt.tabstop = 4
	vim.opt.softtabstop = 4
	vim.opt.shiftwidth = 4
	vim.opt.expandtab = true

	vim.opt.smartindent = true

	vim.opt.wrap = false

	vim.opt.swapfile = false
	vim.opt.backup = false
	vim.opt.undodir = os.getenv("HOME") .. "/.vim/undodir"
	vim.opt.undofile = true

	vim.opt.hlsearch = false
	vim.opt.incsearch = true

	vim.opt.termguicolors = true

	vim.opt.scrolloff = 8
	vim.opt.signcolumn = "yes"
	vim.opt.isfname:append("@-@")

	vim.opt.updatetime = 50

	vim.opt.colorcolumn = "120"

EOF

" Nvim tree config "
nnoremap <C-n> :NvimTreeToggle<CR>

lua <<EOF
    -- disable netrw at the very start of your init.lua (strongly advised)
    vim.g.loaded_netrw = 1
    vim.g.loaded_netrwPlugin = 1

    -- set termguicolors to enable highlight groups
    vim.opt.termguicolors = true

    -- empty setup using defaults
    require("nvim-tree").setup({
        view = {
            width = 40,
        }
    })
EOF

" Comment config "
lua <<EOF
    require("Comment").setup()
EOF

" Harpoon config "
lua <<EOF
    local mark = require("harpoon.mark")
    local ui = require("harpoon.ui")

    vim.keymap.set("n", "<leader>a", mark.add_file)
    vim.keymap.set("n", "<C-e>", ui.toggle_quick_menu)

    -- vim.keymap.set("n", "<C-h>", function() ui.nav_file(1) end)
    -- vim.keymap.set("n", "<C-t>", function() ui.nav_file(2) end)
    -- vim.keymap.set("n", "<C-n>", function() ui.nav_file(3) end)
    -- vim.keymap.set("n", "<C-s>", function() ui.nav_file(4) end)
EOF
